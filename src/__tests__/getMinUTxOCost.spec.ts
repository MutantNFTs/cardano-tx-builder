import { getMinUTxOCost } from "../getMinUTxOCost";

describe("getMinUTxOCost", () => {
  test("test case 1", () => {
    const minCost = getMinUTxOCost({
      address: "",
      txHash: "",
      txIndex: 0,
      value: {
        coin: 1000000n,
        assets: {
          "1cda8886f4cbab2217346187a923b3be670e42ef5778a0ad7d25358c": {
            "4d7574616e74546f61643030303135": 1n,
          },
        },
      },
    });

    expect(minCost).toBe(1379280n);
  });

  test("test case 2", () => {
    const minCost = getMinUTxOCost({
      address: "",
      txHash: "",
      txIndex: 0,
      value: {
        coin: 1000000n,
        assets: {
          "023cec350597bdf2a2b6945e62e0111d9808caf7a9353a2ab91e8beb": {
            "534f434945545932354c4d4231363837": 1n,
            "534f434945545932354c4d4232343030": 1n,
            "534f434945545932354c4d4232343731": 1n,
            "534f434945545932354c4d42323833": 1n,
            "534f434945545932354c4d42323937": 1n,
            "534f434945545932354c4d4233333030": 1n,
            "534f434945545932354c4d42333534": 1n,
            "534f434945545932354c4d4233363233": 1n,
            "534f434945545932354c4d4233373434": 1n,
            "534f434945545932354c4d4234303237": 1n,
            "534f434945545932354c4d4234313232": 1n,
            "534f434945545932354c4d4234333834": 1n,
            "534f434945545932354c4d4234353436": 1n,
            "534f434945545932354c4d42343637": 1n,
            "534f434945545932354c4d4234373832": 1n,
            "534f434945545932354c4d4235323537": 1n,
            "534f434945545932354c4d42353434": 1n,
            "534f434945545932354c4d4235353136": 1n,
            "534f434945545932354c4d4236303337": 1n,
            "534f434945545932354c4d4236323137": 1n,
            "534f434945545932354c4d4236323437": 1n,
            "534f434945545932354c4d4236343134": 1n,
            "534f434945545932354c4d4236353037": 1n,
            "534f434945545932354c4d4236383330": 1n,
            "534f434945545932354c4d4238303237": 1n,
            "534f434945545932354c4d4238313638": 1n,
            "534f434945545932354c4d4238323436": 1n,
            "534f434945545932354c4d4238323939": 1n,
            "534f434945545932354c4d4238343839": 1n,
            "534f434945545932354c4d4238373934": 1n,
            "534f434945545932354c4d4238383532": 1n,
            "534f434945545932354c4d4238383938": 1n,
            "534f434945545932354c4d4239303030": 1n,
            "534f434945545932354c4d4239393135": 1n,
          },
          "3c2cfd4f1ad33678039cfd0347cca8df363c710067d739624218abc0": {
            "576f726c647357697468696e3030303833": 1n,
            "576f726c647357697468696e3030303932": 1n,
            "576f726c647357697468696e3030323632": 1n,
            "576f726c647357697468696e3030363732": 1n,
            "576f726c647357697468696e3032393934": 1n,
            "576f726c647357697468696e3033333236": 1n,
            "576f726c647357697468696e3033343530": 1n,
          },
          "45a5fa9311a12e74dcf6d463820a635d36b65469f0edee2ad9fff043": {
            "506f6973736f6e5765656b656e64733030303630": 1n,
            "506f6973736f6e5765656b656e64733030303632": 1n,
            "506f6973736f6e5765656b656e64733030303833": 1n,
            "506f6973736f6e5765656b656e64733030303930": 1n,
          },
          "4c9f7d6c24ba8e2b12f3269ac38d706025e39a50a524afe6eaf79d95": {
            "5665676769656d6174653034383133": 1n,
            "5665676769656d6174653037303534": 1n,
            "5665676769656d6174653038353335": 1n,
          },
          "4f790fb0d3181ef4026deeb913bc748d7671666a07be8065c1a3a9aa": {
            "5341434669677572696e653030383938": 1n,
            "5341434669677572696e653033363230": 1n,
          },
          "5a46271a9b32a4517ced20be4ba1f184c2f91b1a5dd480ab639eee57": {
            "42726967687450616c32313133": 1n,
          },
          "76dbbc78587bf972c710f22a0807a6905a8a5e713418515fc9abeed1": {
            "6e65777965617264726f703039363732": 1n,
            "6e65777965617264726f703039363733": 1n,
            "6e65777965617264726f703039393634": 1n,
            "6e65777965617264726f703039393635": 1n,
            "73747564696f73786d61733032323830": 1n,
            "73747564696f73786d61733032323831": 1n,
            "786d617364726f703036383431": 1n,
            "786d617364726f703036383432": 1n,
            "786d617364726f703036383433": 1n,
            "786d617364726f703036383434": 1n,
            "786d617364726f703036383435": 1n,
            "786d617364726f703036383436": 1n,
            "786d617364726f703036383437": 1n,
            "786d617364726f703036383438": 1n,
            "786d617364726f703036383439": 1n,
            "786d617364726f703036383530": 1n,
          },
          "7ddc646d0e15b44db03f0f904e0ab6b72e57aa48d2e579ce66366a3d": {
            "4265617273436c75624d656d6265723031373637": 1n,
            "4265617273436c75624d656d6265723035383239": 1n,
            "4265617273436c75624d656d6265723036353538": 1n,
            "4265617273436c75624d656d6265723036393136": 1n,
          },
          "83c0ab67afc9148bd1571b7a14de1df03cd5624f5992d3b8ec84d6fb": {
            "4164614e696e6a617a36343637": 1n,
            "4164614e696e6a617a36373232": 1n,
          },
          "83cb87b69639e20d7c99755fcfc310fb47882c3591778a3c869ea34c": {
            "417473756b6f30363137": 1n,
            "417473756b6f34333231": 1n,
            "417473756b6f37373737": 1n,
          },
          "8447f40c8dbd543be271b2c817281b22e77bd0444b336fc92740915a": {
            "5769746368436f76656e303334": 1n,
          },
          "8654e8b350e298c80d2451beb5ed80fc9eee9f38ce6b039fb8706bc3": {
            "4c4f4253544552": 20654500000n,
          },
          "90465e141ecb7b72ed0cdbcbd848673177cd52be5af5518e95d0de1d": {
            "33444547454e5333333837": 1n,
            "33444547454e5334383831": 1n,
          },
          "9cc83ea54377108dd022f18095040e8d5808a3061c4fe54f3fd64a7a": {
            "48616c6c6f7765656e41706534353634": 1n,
            "48616c6c6f7765656e41706535313731": 1n,
            "48616c6c6f7765656e41706536333033": 1n,
            "48616c6c6f7765656e417065363430": 1n,
            "48616c6c6f7765656e41706537313232": 1n,
            "4d6f73744162756e64616e7442616e616e61": 1n,
            "5a6f6d62696542616e616e61343330436f6d6d6f6e32": 1n,
            "5a6f6d62696542616e616e61353238436f6d6d6f6e31": 1n,
          },
          a0028f350aaabe0545fdcb56b039bfb08e4bb4d8c4d7c3c7d481c235: {
            "484f534b59": 3941692n,
          },
          a4acdb40f495b61bc98f10c4df10ca7204f2efcaddc9e0a2af9c8e04: {
            "436861726c7a20466f756e6465722023353634": 1n,
            "436861726c7a20466f756e6465722023353636": 1n,
          },
          aa4f61af3a968b979b53c5f2cbd9ebc656c172cef6a49626db24482d: {
            "507572706c65466f756e64657231303837": 1n,
            "507572706c65466f756e646572323932": 1n,
            "507572706c65466f756e6465723333": 1n,
            "507572706c65466f756e646572393339": 1n,
          },
          af2e27f580f7f08e93190a81f72462f153026d06450924726645891b: {
            "44524950": 3999996000n,
          },
          ba7adcbe329cb7eac17efdd6ec986ed6b6127281307ae7b15701d710: {
            "43617264616e6f4c6574746572733130444e4b": 1n,
            "43617264616e6f4c6574746572733132393732575057": 1n,
            "43617264616e6f4c6574746572733133303135415158": 1n,
            "43617264616e6f4c657474657273313337314d4542": 1n,
            "43617264616e6f4c65747465727331343039334c4b41": 1n,
            "43617264616e6f4c65747465727331343632354e4450": 1n,
            "43617264616e6f4c657474657273313438313648434a": 1n,
            "43617264616e6f4c6574746572733135353236534d59": 1n,
            "43617264616e6f4c657474657273313535373355434a": 1n,
            "43617264616e6f4c657474657273313536313058474d": 1n,
            "43617264616e6f4c6574746572733135393536494a4f": 1n,
            "43617264616e6f4c657474657273313633373057415a": 1n,
            "43617264616e6f4c65747465727331373435314b4951": 1n,
            "43617264616e6f4c65747465727332333938554655": 1n,
            "43617264616e6f4c65747465727332353333564954": 1n,
            "43617264616e6f4c657474657273323630385a4756": 1n,
            "43617264616e6f4c657474657273323832485a58": 1n,
            "43617264616e6f4c65747465727334373335534953": 1n,
            "43617264616e6f4c65747465727335363233444c57": 1n,
            "43617264616e6f4c657474657273363330324b4253": 1n,
            "43617264616e6f4c65747465727337333136484148": 1n,
            "43617264616e6f4c657474657273373436314e4443": 1n,
            "43617264616e6f4c657474657273383135484b41": 1n,
            "43617264616e6f4c6574746572733837313656544c": 1n,
            "43617264616e6f4c65747465727339333635504e46": 1n,
            "43617264616e6f4c65747465727339393430484549": 1n,
          },
          bff82d31352d9bdfdb49e243ab74af715488631f330b2cf064178f90: {
            "426c6f636b4f776c7354656c6c79303430": 1n,
          },
          c16777d742784b7acd3940e0356596d313e141200fe8e48c8df16ba7: {
            "42697446696e734861776b66696e556e636f6d6d6f6e323139": 1n,
            "42697446696e7350656e67757068696e45786f746963313435": 1n,
          },
          e9c28a71273f825b13f38244ccf1fea97c4025813610d01a7c5d681f: {
            "436861726c7a20546f6b656e": 1425859375n,
          },
          ec2e1c314ee754cea4ba3afc69f74b2130f87bb3928e1a1e8534c209: {
            "526167696e675465656e3030333134": 1n,
            "526167696e675465656e3030343136": 1n,
            "526167696e675465656e3030363839": 1n,
            "526167696e675465656e3030373637": 1n,
            "526167696e675465656e3032373432": 1n,
            "526167696e675465656e3033313239": 1n,
            "526167696e675465656e3033353031": 1n,
            "526167696e675465656e3033373937": 1n,
            "526167696e675465656e3033393134": 1n,
            "526167696e675465656e3034303133": 1n,
            "526167696e675465656e3034313937": 1n,
            "526167696e675465656e3034323039": 1n,
            "526167696e675465656e3034353530": 1n,
            "526167696e675465656e3034373132": 1n,
            "526167696e675465656e3034383335": 1n,
          },
          ee6da4b71e0913cbebec02edc23653f9b970af69324fdddfed1285d9: {
            "53706163654170653030373236": 1n,
            "53706163654170653031393438": 1n,
            "53706163654170653034383432": 1n,
            "53706163654170653035333735": 1n,
            "53706163654170653036323231": 1n,
            "53706163654170653036393032": 1n,
            "53706163654170653037333438": 1n,
            "53706163654170653037353338": 1n,
            "53706163654170653039383838": 1n,
          },
          f33617a1fb3a5c37461fb88e3d510b6aed0feb6ee8bb0e162475f4f2: {
            "3331313144756e6b6d616e": 1n,
            "3331373450726573746f": 1n,
            "33333833576861745468654d5650": 1n,
            "333931394a616d6573536576656e7465656e": 1n,
            "34303536426c75655761766573": 1n,
            "343336354d616d626153757065726865726f": 1n,
          },
        },
      },
    });

    expect(minCost).toBe(23206386n);
  });

  test("test case 3: with datum", () => {
    expect(
      getMinUTxOCost({
        address: "",
        txHash: "",
        txIndex: 0,
        datumHash:
          "8c377de6a487f44cf8b0d5800b82206cde41e39e6795042ea1e30e3baa71088a",
        value: {
          coin: 1000000n,
          assets: {
            "1cda8886f4cbab2217346187a923b3be670e42ef5778a0ad7d25358c": {
              "4d7574616e74546f61643030303135": 1n,
            },
          },
        },
      })
    ).toBe(1724100n);
  });

  test("test case 4: without assets", () => {
    expect(
      getMinUTxOCost({
        address: "",
        txHash: "",
        txIndex: 0,
        datumHash:
          "8c377de6a487f44cf8b0d5800b82206cde41e39e6795042ea1e30e3baa71088a",
        value: {
          coin: 1000000n,
        },
      })
    ).toBe(0n);
  });
});
